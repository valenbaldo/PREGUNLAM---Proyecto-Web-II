<style>
    :root{
        --brand:#0b8f72;
        --ink:#0b0b0b;
        --muted:#6b7280;
        --ring:#e5e7eb;
        --bg:#f8fafc;
        --danger:#dc3545;
    }

    .create-wrap{
        max-width: 960px;
        margin: 32px auto;
        background:#fff;
        border:1px solid var(--ring);
        border-radius:16px;
        box-shadow: 0 10px 18px rgba(0,0,0,.06);
        overflow:hidden;
    }

    /* Header */
    .create-top{
        display:flex; align-items:center; justify-content:space-between;
        gap:12px; padding:18px 20px;
        border-bottom:1px solid var(--ring);
        background:#fff;
    }
    .create-title{
        display:flex; align-items:center; gap:10px;
        font-weight:900; font-size:22px;
    }
    /* iconito redondo alineado */
    .icon-circle{
        width:22px; height:22px; flex:0 0 22px;
        border-radius:999px; background:var(--brand); color:#fff;
        display:inline-flex; align-items:center; justify-content:center;
        transform: translateY(1px);
    }
    .icon-circle svg{ display:block; }

    .btn{
        display:inline-flex; align-items:center; gap:8px;
        padding:10px 14px; border-radius:12px; border:1px solid transparent;
        font-weight:700; text-decoration:none; cursor:pointer;
        transition: box-shadow .15s, transform .02s, background .15s, color .15s, border-color .15s;
    }
    .btn:active{ transform: translateY(1px); }
    .btn-back{ background:#fff; color:#111; border:1px solid var(--ring); }
    .btn-back:hover{ box-shadow:0 0 0 3px #e5e7eb; }
    .btn-save{ background:var(--brand); color:#fff; }
    .btn-save:hover{ box-shadow:0 0 0 3px #0b8f7230; }

    /* Form */
    .create-body{ padding:22px 20px; }
    .group{ margin-bottom:16px; }
    .label{
        display:block; margin-bottom:8px; font-weight:800; color:#111; font-size:14px;
    }
    .hint{ color:var(--muted); font-size:12px; margin-left:6px; font-weight:500; }

    .input, .select, .textarea{
        width:100%; border:1px solid var(--ring); border-radius:12px; outline:none;
        padding:12px 14px; background:#fff; font-size:15px;
    }
    .textarea{ min-height:110px; resize:vertical; }
    .input:focus, .select:focus, .textarea:focus{
        border-color: var(--brand); box-shadow:0 0 0 3px #0b8f7230;
    }

    /* Opciones grid */
    .options-grid{
        display:grid; gap:12px;
        grid-template-columns: 1fr;
    }
    @media (min-width: 720px){
        .options-grid{ grid-template-columns: 1fr 1fr; }
    }

    /* Selector de correcta */
    .row-inline{ display:flex; gap:12px; align-items:center; flex-wrap:wrap; }
    .select-compact{
        border-radius:10px; padding:10px 12px; border:1px solid var(--ring);
        background:#fff; min-width:140px;
    }
    .select-compact:focus{ border-color:var(--brand); box-shadow:0 0 0 3px #0b8f7230; }

    /* Errors */
    .msg-error{
        background:#fde8e8; border:1px solid #f8b4b4; color:#9b1c1c;
        padding:10px 12px; border-radius:12px; margin-bottom:14px; font-weight:600;
    }

    /* Footer actions */
    .create-actions{
        display:flex; gap:10px; justify-content:flex-end; margin-top:18px;
    }
</style>

<div class="create-wrap">
    <div class="create-top">
        <div class="create-title">
            <span class="icon-circle" aria-hidden="true">
                <!-- plus icon -->
                <svg width="12" height="12" viewBox="0 0 24 24" fill="none">
                    <path d="M12 5v14M5 12h14" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg>
            </span>
            <span>Crear nueva pregunta</span>
        </div>

        <a class="btn btn-back" href="/editor/base">
            <!-- back icon -->
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M15 6l-6 6 6 6" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            Volver al panel
        </a>
    </div>

    <div class="create-body">
        {{#error}}
            <div class="msg-error">Error: {{error}}</div>
        {{/error}}

        <form action="/editor/guardarPregunta" method="POST" autocomplete="off">
            <div class="group">
                <label class="label" for="pregunta">Texto de la pregunta</label>
                <textarea class="textarea" id="pregunta" name="pregunta" required>{{pregunta}}</textarea>
            </div>

            <div class="group">
                <label class="label" for="id_categoria">Categor√≠a</label>
                <select class="select" id="id_categoria" name="id_categoria" required>
                    {{#categorias}}
                        <option value="{{id_categoria}}" {{#selected}}selected{{/selected}}>{{nombre}}</option>
                    {{/categorias}}
                </select>
            </div>

            <div class="group">
                <div class="label" style="display:flex; align-items:center; gap:8px;">
                    Opciones de respuesta
                    <span class="hint">Us√° textos claros y sin pistas üôå</span>
                </div>

                <div class="options-grid">
                    <div>
                        <label class="label" for="a">Opci√≥n A</label>
                        <input class="input" id="a" name="a" type="text" value="{{a}}" required>
                    </div>
                    <div>
                        <label class="label" for="b">Opci√≥n B</label>
                        <input class="input" id="b" name="b" type="text" value="{{b}}" required>
                    </div>
                    <div>
                        <label class="label" for="c">Opci√≥n C</label>
                        <input class="input" id="c" name="c" type="text" value="{{c}}" required>
                    </div>
                    <div>
                        <label class="label" for="d">Opci√≥n D</label>
                        <input class="input" id="d" name="d" type="text" value="{{d}}" required>
                    </div>
                </div>
            </div>

            <div class="group">
                <div class="row-inline">
                    <label class="label" for="respuesta_correcta" style="margin:0;">Respuesta correcta</label>
                    <span class="hint">(A, B, C o D)</span>
                </div>
                <select class="select-compact" id="respuesta_correcta" name="respuesta_correcta" required>
                    <option value="" disabled {{^respuesta_correcta}}selected{{/respuesta_correcta}}>Elegir‚Ä¶</option>
                    <option value="A" {{#resp_A}}selected{{/resp_A}}>A</option>
                    <option value="B" {{#resp_B}}selected{{/resp_B}}>B</option>
                    <option value="C" {{#resp_C}}selected{{/resp_C}}>C</option>
                    <option value="D" {{#resp_D}}selected{{/resp_D}}>D</option>
                </select>
            </div>

            <div class="create-actions">
                <a class="btn btn-back" href="/editor/base">Cancelar</a>
                <button class="btn btn-save" type="submit">
                    <!-- check icon -->
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                        <path d="m5 13 4 4L19 7" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    Guardar pregunta
                </button>
            </div>
        </form>
    </div>
</div>

<style>
    :root{
        --brand:#0b8f72;
        --ink:#0b0b0b;
        --muted:#6b7280;
        --ring:#e5e7eb;
        --bg:#f8fafc;
        --danger:#dc3545;
    }

    .editor-wrap{
        max-width: 1280px;
        margin: 32px auto;
        padding: 0;
        background:#fff;
        border:1px solid var(--ring);
        border-radius:16px;
        box-shadow: 0 10px 18px rgba(0,0,0,.06);
        overflow:hidden;
    }

    .editor-top{
        display:flex; align-items:center; justify-content:space-between;
        gap:16px; padding:18px 20px;
        border-bottom:1px solid var(--ring); background:#fff;
        position: sticky; top:0; z-index:2;
    }
    .editor-title{
        display:flex; align-items:center; gap:10px; font-size:20px; font-weight:900;
    }
    .editor-title .dot{ width:10px; height:10px; border-radius:999px; background:var(--brand); box-shadow:0 0 0 4px #0b8f721f; }
    .editor-actions{ display:flex; gap:10px; }

    .btn{
        display:inline-flex; align-items:center; gap:8px;
        padding:10px 14px; border-radius:12px; font-weight:700; border:1px solid transparent;
        text-decoration:none; cursor:pointer; transition: box-shadow .15s, transform .02s, background .15s, color .15s;
    }
    .btn:active{ transform: translateY(1px); }
    .btn-create{ background:var(--brand); color:#fff; }
    .btn-create:hover{ box-shadow:0 0 0 3px #0b8f7230; }

    .editor-table{ width:100%; border-collapse:separate; border-spacing:0; }
    .editor-table thead th{
        position: sticky; top:58px; /* debajo del topbar */
        background:#fbfbfb; border-bottom:1px solid var(--ring);
        color:#111; font-weight:800; font-size:13px; text-transform:uppercase; letter-spacing:.02em;
    }
    .editor-table th, .editor-table td{ padding:16px 18px; text-align:left; }

    .editor-table tbody tr{ border-bottom:1.5px solid #e3e8ef; }
    .editor-table tbody tr:first-child{ border-top:1.5px solid #e3e8ef; }

    .editor-table tbody tr:nth-child(odd){ background:#fcfcfd; }
    .editor-table tbody tr:hover{ background:#f6fffb; }

    .col-id{ width:80px; color:#374151; font-variant-numeric: tabular-nums; }
    .col-preg{ max-width:700px; }
    .col-preg .preg-text{
        display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden;
    }
    .col-cat{ width:260px; }
    .badge-cat{
        display:inline-flex; align-items:center; gap:8px;
        padding:6px 10px; border-radius:999px; background:#edf7f5; color:#145a50; border:1px solid #0b8f721f;
        max-width:100%; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
    }
    .col-corr{ width:140px; }
    .chip{
        display:inline-flex; align-items:center; gap:6px;
        padding:6px 10px; border-radius:999px; border:1px solid #d1fae5;
        background:#ecfdf5; color:#065f46; font-weight:800;
    }
    .chip .k{ font-family: ui-monospace, SFMono-Regular, Menlo, monospace; letter-spacing:.03em; }

    .col-acc{ width:210px; }
    .btn-row{
        display:flex; gap:8px; align-items:center; flex-wrap:wrap;
    }
    .btn-edit{
        background:#0b8f72; color:#fff; border-color:#0b8f72;
    }
    .btn-edit:hover{ box-shadow:0 0 0 3px #0b8f7230; }
    .btn-del{
        background:#fff; color:var(--danger); border:1px solid #f1c3c6;
    }
    .btn-del:hover{
        background:#fff5f6; box-shadow:0 0 0 3px #f8d7da;
    }

    .rk-empty{ padding:36px; text-align:center; color:var(--muted); }

    @media (max-width: 860px){
        .col-cat{ display:none; }
        .col-corr{ width:110px; }
        .col-acc{ width:180px; }
        .editor-title{ font-size:18px; }
        .editor-top{ top:0; }
        .editor-table thead th{ top:60px; }
        .col-preg{ max-width:100%; }
    }
</style>

<div class="editor-wrap">
    <div class="editor-top">
        <div class="editor-title">
            <span class="dot"></span> Panel de edición de preguntas
        </div>
        <div class="editor-actions">
            <a class="btn btn-del"
               href="/editor/gestionarReportes"
               style="background: #fff5f6; border-color: #f1c3c6; color: var(--danger);">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                    <path d="M12 21a2 2 0 0 0 2-2H10a2 2 0 0 0 2 2Zm7.5-6.5V9a7.5 7.5 0 0 0-15 0v5.5l-2.5 3h20l-2.5-3Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                Reportes ({{reportes_pendientes}})
            </a>
            <a class="btn btn-create" href="/editor/crearPregunta">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                    <path d="M12 5v14M5 12h14" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg>
                Crear nueva
            </a>
        </div>
    </div>

    {{#msg}}<div class="msg-box msg-success">{{msg}}</div>{{/msg}}
    {{#error}}<div class="msg-box msg-error">{{error}}</div>{{/error}}


        <table class="editor-table">
            <thead>
            <tr>
                <th class="col-id">ID</th>
                <th class="col-preg">Pregunta</th>
                <th class="col-cat">Categoría</th>
                <th class="col-corr">Correcta</th>
                <th class="col-acc">Acciones</th>
            </tr>
            </thead>
            <tbody>
            {{#preguntas}}
                <tr>
                    <td class="col-id">{{id_pregunta}}</td>
                    <td class="col-preg"><div class="preg-text">{{pregunta}}</div></td>
                    <td class="col-cat">
          <span class="badge-cat">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M3 7h5l2 2h11v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V7z" stroke="currentColor" stroke-width="1.5"/>
            </svg>
              {{categoria}}
          </span>
                    </td>
                    <td class="col-corr">
          <span class="chip">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="m5 13 4 4L19 7" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span class="k">{{es_correcta}}</span>
          </span>
                    </td>
                    <td class="col-acc">
                        <div class="btn-row">
                            <a class="btn btn-edit" href="/editor/editarPregunta?id={{id_pregunta}}">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                                <path d="M4 20h4l10-10a2.828 2.828 0 1 0-4-4L4 16v4Z" stroke="currentColor" stroke-width="1.6" stroke-linejoin="round"/>
                            </svg>
                            Editar
                            </a>
                            <a class="btn btn-del"
                               href="/editor/eliminarPregunta?id={{id_pregunta}}"
                            onclick="return confirm('¿Eliminar la pregunta #{{id_pregunta}}? Esta acción afecta historiales de juego.');">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                                <path d="M19 6H5m3 0V4a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2m-1 0v14a2 2 0 0 1-2 2H9a2 2 0 0 1-2-2V6h10Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/>
                            </svg>
                            Eliminar
                            </a>
                        </div>
                    </td>
                </tr>
            {{/preguntas}}
            </tbody>
        </table>


    {{^preguntas}}
        <div class="rk-empty">No hay preguntas cargadas en el sistema.</div>
    {{/preguntas}}
</div>

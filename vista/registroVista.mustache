<style>
    :root{
        --brand:#0b8f72;
        --brand-soft:#10b981;
        --ink:#0b0b0b;
        --muted:#9ca3af;
        --ring:#e5e7eb;
        --bg:#020617;
        --card-bg:#ffffff;
    }

    *{ box-sizing:border-box; }

    body{
        margin:0;
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        background: var(--bg);
        color:#111827;
        min-height:100vh;
        position:relative;
        overflow-x:hidden;
    }


    .auth-bg{
        position:relative;
        min-height:calc(100vh - 0px);

    }

    .background-gradient{
        position:fixed;
        inset:0;
        background:
                radial-gradient(circle at 0% 0%, #05966955 0, #05966955 25%, #020617 60%),
                radial-gradient(circle at 100% 100%, #22c55e33 0, #111827 45%, #020617 75%);
        z-index:-2;
    }


    .icons-layer{
        position:fixed;
        inset:0;
        pointer-events:none;
        z-index:-1;
        overflow:hidden;
    }


    .icons-layer-inner{
        position:absolute;
        top:72px;
        left:0;
        right:0;
        height:calc(100vh - 72px);
        overflow:hidden;
    }

    .icon-floating{
        position:absolute;
        width:64px;
        height:64px;
        border-radius:999px;
        display:flex;
        align-items:center;
        justify-content:center;
        background:
                radial-gradient(circle at 30% 20%, rgba(15,23,42,.98), rgba(15,23,42,.92));
        border:1px solid rgba(148,163,184,.65);
        box-shadow:
                0 0 0 4px rgba(15,23,42,.7),
                0 18px 40px rgba(0,0,0,.55);
        opacity:0;
        animation: floatUp 18s linear infinite;
        color:transparent;
    }


    .icon-floating::before{
        content:"?";
        font-size:30px;
        font-weight:700;
        text-shadow:0 0 10px rgba(15,23,42,.8);
    }

    .icon-floating.icon-question::before{
        content:"?";
        color:#fb7185;
    }

    .icon-floating.icon-error::before{
        content:"✕";
        color:#fb7185;
    }

    .icon-floating.icon-ok::before{
        content:"✓";
        color:#c4b5fd;
    }


    @keyframes floatUp{
        0%{
            transform:translate3d(0,110vh,0) scale(.9);
            opacity:0;
        }
        10%{
            opacity:.7;
        }
        60%{
            opacity:.95;
        }
        80%{
            opacity:.85;
        }
        88%{
            opacity:0;
            transform:translate3d(0,-5vh,0) scale(1.06);
        }
        100%{
            opacity:0;
            transform:translate3d(0,-10vh,0) scale(1.06);
        }
    }


    .auth-wrap{
        min-height:calc(100vh - 120px);
        display:flex;
        align-items:center;
        justify-content:center;
        padding:32px 16px 40px;
    }

    .auth-card{
        width:min(980px, 100%);
        background:var(--card-bg);
        border-radius:24px;
        border:1px solid rgba(15,23,42,.12);
        box-shadow:
                0 22px 65px rgba(0,0,0,.35),
                0 0 0 1px rgba(255,255,255,.02);
        padding:26px 28px 22px;
        max-height:none;
        overflow:visible;
    }

    .auth-head{
        text-align:center;
        margin-bottom:18px;
    }
    .auth-title{
        font-weight:900;
        font-size:24px;
        letter-spacing:-0.04em;
    }
    .auth-sub{
        margin-top:4px;
        font-size:14px;
        color:var(--muted);
    }

    .auth-sub span.dot{
        display:inline-block;
        width:8px; height:8px;
        border-radius:999px;
        background:#fb7185;
        margin-left:4px;
        box-shadow:0 0 0 4px rgba(248,113,113,.25);
    }


    .form-grid{
        display:grid;
        grid-template-columns: minmax(0,1.1fr) minmax(0,1fr);
        gap:18px 24px;
        align-items:flex-start;
    }

    .field{
        margin-bottom:10px;
    }
    .label{
        font-size:13px;
        font-weight:600;
        color:#111827;
        margin-bottom:4px;
        display:block;
    }
    .label span.small{
        font-weight:400;
        color:var(--muted);
        font-size:12px;
    }

    .input,
    .select{
        width:100%;
        padding:11px 12px;
        border-radius:12px;
        border:1px solid var(--ring);
        background:#f9fafb;
        font-size:14px;
        outline:none;
        transition:border-color .15s, box-shadow .15s, background .15s;
    }
    .input:focus,
    .select:focus{
        border-color:var(--brand);
        background:#ffffff;
        box-shadow:0 0 0 3px rgba(16,185,129,.25);
    }

    .input[type="file"]{
        padding:6px 10px;
        background:#f9fafb;
    }

    .hint{
        font-size:11px;
        color:var(--muted);
        margin-top:4px;
    }

    .map-wrapper{
        border-radius:14px;
        border:1px solid var(--ring);
        overflow:hidden;
        background:#f9fafb;
    }
    #mapa{
        width:100%;
        height:320px;
    }
    .map-helper{
        font-size:11px;
        padding:6px 8px 4px;
        color:var(--muted);
        text-align:center;
    }

    .form-footer{
        margin-top:18px;
        display:flex;
        flex-direction:column;
        gap:10px;
    }
    .actions-row{
        display:flex;
        flex-wrap:wrap;
        gap:12px;
    }
    .btn{
        flex:1 1 0;
        padding:11px 16px;
        border-radius:999px;
        border:1px solid transparent;
        font-weight:700;
        font-size:14px;
        cursor:pointer;
        display:flex;
        align-items:center;
        justify-content:center;
        gap:8px;
        transition:background .15s, color .15s, box-shadow .15s, transform .08s, border-color .15s;
    }
    .btn-primary{
        background:linear-gradient(135deg,#22c55e,#16a34a);
        color:#ffffff;
        box-shadow:0 18px 40px rgba(16,185,129,.45);
    }
    .btn-primary:hover{
        transform:translateY(-1px);
        box-shadow:0 24px 55px rgba(16,185,129,.55);
    }
    .btn-outline{
        background:#ffffff;
        color:var(--brand);
        border-color:var(--brand);
    }
    .btn-outline:hover{
        background:rgba(16,185,129,.06);
        box-shadow:0 0 0 3px rgba(16,185,129,.25);
    }

    .legal{
        font-size:11px;
        text-align:center;
        color:var(--muted);
        margin-top:4px;
    }

    .link{
        color:var(--brand);
        text-decoration:none;
        font-weight:600;
    }
    .link:hover{
        text-decoration:underline;
    }

    #mensajeError{
        margin-top:8px;
        font-size:13px;
        color:#b91c1c;
        font-weight:700;
        text-align:center;
    }

    @media (max-width: 960px){
        .auth-card{
            border-radius:20px;
            padding:22px 18px 18px;
        }
        .form-grid{
            grid-template-columns:1fr;
        }
        #mapa{
            height:260px;
        }
    }

    @media (max-width: 640px){
        .auth-wrap{
            padding:20px 10px 32px;
        }
        .auth-card{
            padding:20px 14px 16px;
        }
        .actions-row{
            flex-direction:column;
        }
    }
</style>

<div class="auth-bg">

    <div class="background-gradient"></div>

    <div class="icons-layer">
        <div class="icons-layer-inner">
            <div class="icon-floating icon-question" style="left:8%;  animation-duration:19s; animation-delay:0s;"></div>
            <div class="icon-floating icon-error"    style="left:22%; animation-duration:21s; animation-delay:3s;"></div>
            <div class="icon-floating icon-ok"       style="left:38%; animation-duration:24s; animation-delay:6s;"></div>
            <div class="icon-floating icon-question" style="left:55%; animation-duration:20s; animation-delay:2s;"></div>
            <div class="icon-floating icon-error"    style="left:70%; animation-duration:23s; animation-delay:7s;"></div>
            <div class="icon-floating icon-ok"       style="left:85%; animation-duration:26s; animation-delay:4s;"></div>
            <div class="icon-floating icon-question" style="left:15%; animation-duration:27s; animation-delay:9s;"></div>
            <div class="icon-floating icon-ok"       style="left:47%; animation-duration:22s; animation-delay:11s;"></div>
            <div class="icon-floating icon-error"    style="left:78%; animation-duration:25s; animation-delay:13s;"></div>
        </div>
    </div>


    <div class="auth-wrap">
        <form
                method="POST"
                action="/login/nuevoUsuario"
                id="registroForm"
                enctype="multipart/form-data"
                class="auth-card"
        >
            <div class="auth-head">
                <div class="auth-title">Crear cuenta</div>
                <div class="auth-sub">
                    Unite al juego de preguntas, subí de nivel y competí en el ranking
                    <span class="dot"></span>
                </div>
            </div>

            <div class="form-grid">

                <div>
                    <div class="field">
                        <label class="label" for="nombre">Nombre</label>
                        <input class="input" type="text" name="nombre" id="nombre" placeholder="Tu nombre">
                    </div>

                    <div class="field">
                        <label class="label" for="apellido">Apellido</label>
                        <input class="input" type="text" name="apellido" id="apellido" placeholder="Tu apellido">
                    </div>

                    <div class="field">
                        <label class="label" for="usuario">Nombre de usuario</label>
                        <input class="input" type="text" name="usuario" id="usuario" placeholder="Cómo te verán en el juego">
                    </div>

                    <div class="field">
                        <label class="label" for="nacimiento">Fecha de nacimiento</label>
                        <input class="input" type="date" name="nacimiento" id="nacimiento" placeholder="dd/mm/aaaa">
                    </div>

                    <div class="field">
                        <label class="label" for="sexo">Género</label>
                        <select name="sexo" id="sexo" class="select">
                            <option value="">Seleccione una opción</option>
                            <option value="masculino">Masculino</option>
                            <option value="femenino">Femenino</option>
                            <option value="noEspecifica">Prefiero no cargarlo</option>
                        </select>
                    </div>

                    <div class="field">
                        <label class="label" for="mail">Email</label>
                        <input class="input" type="email" name="mail" id="mail" placeholder="tu@correo.com">
                    </div>

                    <div class="field">
                        <label class="label" for="formFile">
                            Imagen de perfil <span class="small">(opcional)</span>
                        </label>
                        <input class="input" type="file" id="formFile" name="imagen">
                        <div class="hint">Formatos recomendados: JPG o PNG.</div>
                    </div>
                </div>


                <div>
                    <div class="field">
                        <label class="label">Seleccioná tu ubicación</label>
                        <div class="map-wrapper">
                            <div id="mapa"></div>
                            <div class="map-helper">
                                Hacé clic en el mapa para guardar tu ubicación aproximada.
                            </div>
                        </div>
                        <input type="hidden" id="latitud" name="latitud">
                        <input type="hidden" id="longitud" name="longitud">
                    </div>

                    <div class="field">
                        <label class="label" for="contraseña">Contraseña</label>
                        <input class="input" type="password" name="contraseña" id="contraseña" placeholder="Contraseña">
                    </div>

                    <div class="field">
                        <label class="label" for="confirmarContraseña">Repetir contraseña</label>
                        <input class="input" type="password" name="confirmarContraseña" id="confirmarContraseña" placeholder="Repetir contraseña">
                    </div>
                </div>
            </div>

            <div id="mensajeError"></div>

            <div class="form-footer">
                <div class="actions-row">
                    <button class="btn btn-primary" type="submit">
                        Crear cuenta
                    </button>

                    <a class="btn btn-outline" href="/login">
                        Ya tengo cuenta
                    </a>
                </div>

                <div class="legal">
                    Al crear tu cuenta aceptás participar del ranking y las estadísticas del juego.
                </div>
            </div>
        </form>
    </div>
</div>

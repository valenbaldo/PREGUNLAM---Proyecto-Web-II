<style>
    .pf-wrap { max-width: 820px; margin: 36px auto; padding: 24px; border:1px solid #e5e7eb; border-radius:16px; background:#fff; }
    .pf-head { display:flex; gap:18px; align-items:center; }
    .pf-head img { width:120px; height:120px; border-radius:999px; object-fit:cover; border:2px solid #e5e7eb; }
    .pf-name { font-size:24px; font-weight:800; margin:4px 0; text-transform: lowercase; }
    .pf-name::first-letter { text-transform: uppercase; }
    .pf-sub { color:#555; font-size:14px; }

    .pf-grid { display:grid; grid-template-columns: repeat(3, 1fr); gap:12px; margin-top:18px; }
    .pf-card { padding:16px; border:1px solid #e5e7eb; border-radius:12px; text-align:center; background:#fafafa; }
    .pf-card-title { font-size:13px; color:#555; margin-bottom:4px; }
    .pf-val { font-size:28px; font-weight:900; }

    .pf-actions { margin-top:18px; display:flex; gap:10px; }
    .btn { display:inline-block; padding:10px 14px; border:none; border-radius:12px; background:#111; color:#fff; text-decoration:none; font-size:14px; }


    .pf-qr-img { width:140px; height:140px; display:block; margin:6px auto 4px; }
    .pf-qr-url { font-size:11px; color:#888; word-break:break-all; margin-top:4px; }

    @media (max-width: 768px) {
        .pf-head { flex-direction:column; align-items:flex-start; }
        .pf-grid { grid-template-columns: 1fr; }
    }
</style>

<div class="pf-wrap">
    <div class="pf-head">
        <img src="{{usuario.imagen}}" alt="avatar">
        <div>
            <div class="pf-name">
                {{usuario.nombre}} {{usuario.apellido}}
                {{^usuario.nombre}}{{usuario.username}}{{/usuario.nombre}}
            </div>
            <div class="pf-sub">
                {{usuario.email}} · Nac.: {{usuario.fecha_nacimiento}}
            </div>

            {{^es_publico}}
                <div class="pf-actions">
                    <a class="btn" href="?controller=home&method=base">⬅ Volver</a>
                </div>
            {{/es_publico}}
        </div>
    </div>


    <div class="pf-grid">
        <div class="pf-card">
            <div class="pf-card-title">Partidas jugadas</div>
            <div class="pf-val">{{stats.partidas}}</div>
        </div>
        <div class="pf-card">
            <div class="pf-card-title">Mejor puntaje</div>
            <div class="pf-val">{{stats.mejor_puntaje}}</div>
        </div>
        <div class="pf-card">
            <div class="pf-card-title">Último puntaje</div>
            <div class="pf-val">{{stats.ultimo_puntaje}}</div>
        </div>
    </div>


    <div class="pf-grid" style="margin-top:12px;">
        <div class="pf-card">
            <div class="pf-card-title">Promedio de puntaje</div>
            <div class="pf-val">{{stats.promedio_puntaje}}</div>
        </div>

        <div class="pf-card" style="grid-column: span 2;">
            <div class="pf-card-title" style="font-weight:600;">QR de tu perfil</div>
            <div style="font-size:13px;color:#555;margin-bottom:6px;">
                Escaneá este código para abrir este perfil desde otro dispositivo.
            </div>

            <img src="{{qr_src}}" alt="QR del perfil" class="pf-qr-img">

            <div class="pf-qr-url">{{perfil_url}}</div>
        </div>
    </div>
</div>
